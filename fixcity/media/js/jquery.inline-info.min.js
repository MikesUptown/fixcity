(function($){$.fn.inlineInfoTextify=function(options){var defaults={inlineInfoClass:"overlabel",inlineInfoText:"",caseSensitiveMatch:false,blankFieldOnSubmitWhenDefault:true};var options=$.extend(defaults,options);var removeLabel=function(target){(target.is('input'))?target.removeClass(options.inlineInfoClass).val(""):target.removeClass(options.inlineInfoClass).text("");}
var addLabel=function(target,replaceWithText){(target.is('input'))?target.addClass(options.inlineInfoClass).val(replaceWithText):target.addClass(options.inlineInfoClass).text(replaceWithText);}
var replaceField=function(target,replaceWithType,replaceWithText,replacementText){if((target.val()=="")||(options.caseSensitiveMatch==true&&target.val()==replacementText)||(target.val().toLowerCase()==replacementText.toLowerCase())){var replacementField=document.createElement('input');replacementField.type=replaceWithType;if(target.attr('size'))replacementField.size=target.attr('size');if(target.attr('value'))replacementField.value=replaceWithText;if(target.attr('title'))replacementField.title=target.attr('title');if(target.attr('maxlength'))replacementField.maxLength=target.attr('maxlength');if(target.attr('name'))replacementField.name=target.attr('name');if(target.attr('id'))replacementField.id=target.attr('id');if(target.attr('class'))replacementField.className=target.attr('class');replacementField.value=replaceWithText;if(replaceWithType=='text'){$(replacementField).addClass(options.inlineInfoClass).focus(function(event){replaceField($(this),'password','',replacementText);});target.replaceWith(replacementField);}else{$(replacementField).removeClass(options.inlineInfoClass).blur(function(event){replaceField($(this),'text',replacementText,replacementText);}).insertAfter(target).focus();target.remove();}}}
var blankOnSubmit=function(target,defaultText){var form=target.parents('form:first');form.submit(function(e){if((options.caseSensitiveMatch==true&&target.val()==defaultText)||(target.val().toLowerCase()==defaultText.toLowerCase()))target.val('');});}
return this.each(function(){obj=$(this);if((obj.is('input')&&!(obj.val()==""||obj.val()==undefined))||(obj.is('textarea')&&(obj.text()!="")))return true;var replacementText=(options.inlineInfoText=="")?((obj.attr('title'))?obj.attr('title'):$("label[for="+obj.attr('id')+"]").text()):options.inlineInfoText;if(obj.attr('type')=='password'){replaceField(obj,'text',replacementText,replacementText);obj.focus(function(event){replaceField(obj,'password','',replacementText);});}else{addLabel(obj,replacementText);obj.focus(function(event){var target=$(this);if((target.val()=="")||(options.caseSensitiveMatch==true&&target.val()==replacementText)||(target.val().toLowerCase()==replacementText.toLowerCase())){removeLabel(target);}}).blur(function(event){var target=$(this);if((target.val()=="")||(options.caseSensitiveMatch==true&&target.val()==replacementText)||(target.val().toLowerCase()==replacementText.toLowerCase())){addLabel(target,replacementText);}});}
if(options.blankFieldOnSubmitWhenDefault){blankOnSubmit(obj,replacementText);}});};})(jQuery);